Index: app/src/main/java/com/acs/readertest/ActivityLecteur.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.acs.readertest;\r\n\r\nimport android.app.Activity;\r\nimport android.os.Bundle;\r\n\r\npublic class ActivityLecteur extends Activity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_lecteur);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/acs/readertest/ActivityLecteur.java b/app/src/main/java/com/acs/readertest/ActivityLecteur.java
--- a/app/src/main/java/com/acs/readertest/ActivityLecteur.java	(revision 72bc01648d87ce85431ba9c64882bf153983b96e)
+++ b/app/src/main/java/com/acs/readertest/ActivityLecteur.java	(date 1683618087837)
@@ -1,6 +1,9 @@
 package com.acs.readertest;
 
 import android.app.Activity;
+import android.app.AlertDialog;
+import android.content.DialogInterface;
+import android.content.Intent;
 import android.os.Bundle;
 
 public class ActivityLecteur extends Activity {
@@ -9,5 +12,18 @@
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         setContentView(R.layout.activity_lecteur);
+
+        AlertDialog.Builder builder = new AlertDialog.Builder(this);
+        builder.setMessage("Veuillez brancher le lecteur")
+                .setTitle("Lecteur déconnecté")
+                .setPositiveButton("OK", new DialogInterface.OnClickListener() {
+                    public void onClick(DialogInterface dialog, int id) {
+                        // Action à exécuter lorsque l'utilisateur clique sur "OK"
+                        Intent intent45 = new Intent(ActivityLecteur.this, ActivityCarte.class);
+                        startActivity(intent45);
+                    }
+                });
+        AlertDialog dialog = builder.create();
+        dialog.show();
     }
 }
\ No newline at end of file
Index: app/src/main/java/com/acs/readertest/ActivityPageAccueil.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.acs.readertest;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\n\r\npublic class ActivityPageAccueil extends Activity {\r\n    private static final String LOG_TAG =ActivityPageAccueil.class.getSimpleName();\r\n    private static final String LOG_TAG_2 =ActivityPageAccueil.class.getSimpleName();\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_page_accueil);\r\n\r\n    }\r\n\r\n    public void launchMainActivity(View view) {\r\n        Log.d(LOG_TAG, \"Mode avancé lancé !\");\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    public void launchActivitySimpleMode(View view) {\r\n        Log.d(LOG_TAG_2, \"Bienvenue dans CHANEL Companion !\");\r\n        Intent intent2 = new Intent(this, ActivitySimpleMode.class);\r\n        startActivity(intent2);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/acs/readertest/ActivityPageAccueil.java b/app/src/main/java/com/acs/readertest/ActivityPageAccueil.java
--- a/app/src/main/java/com/acs/readertest/ActivityPageAccueil.java	(revision 72bc01648d87ce85431ba9c64882bf153983b96e)
+++ b/app/src/main/java/com/acs/readertest/ActivityPageAccueil.java	(date 1683618701833)
@@ -9,6 +9,9 @@
 public class ActivityPageAccueil extends Activity {
     private static final String LOG_TAG =ActivityPageAccueil.class.getSimpleName();
     private static final String LOG_TAG_2 =ActivityPageAccueil.class.getSimpleName();
+
+
+
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
@@ -24,7 +27,9 @@
 
     public void launchActivitySimpleMode(View view) {
         Log.d(LOG_TAG_2, "Bienvenue dans CHANEL Companion !");
-        Intent intent2 = new Intent(this, ActivitySimpleMode.class);
+        Intent intent2 = new Intent(this, ActivityLecteur.class);
         startActivity(intent2);
     }
+
+
 }
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_09_05_2023_09_10__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_09_05_2023_09_10__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_09_05_2023_09_10__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_09_05_2023_09_10__Changes_.xml	(revision 72bc01648d87ce85431ba9c64882bf153983b96e)
+++ /dev/null	(revision 72bc01648d87ce85431ba9c64882bf153983b96e)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_09_05_2023_09_10_[Changes]" date="1683616251472" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_09_05_2023_09_10_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 09/05/2023 09:10 [Changes]" />
-</changelist>
\ No newline at end of file
Index: app/src/main/res/drawable/coin_bouton.xml
===================================================================
diff --git a/app/src/main/res/drawable/coin_bouton.xml b/app/src/main/res/drawable/coin_bouton.xml
deleted file mode 100644
--- a/app/src/main/res/drawable/coin_bouton.xml	(revision 72bc01648d87ce85431ba9c64882bf153983b96e)
+++ /dev/null	(revision 72bc01648d87ce85431ba9c64882bf153983b96e)
@@ -1,7 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<shape xmlns:android="http://schemas.android.com/apk/res/android"
-    android:shape="rectangle">
-    <corners android:radius="100dp" />
-    <solid android:color="#000000" />
-</shape>
-
Index: .idea/shelf/Uncommitted_changes_before_Update_at_09_05_2023_09_10_[Changes]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_09_05_2023_09_10_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_09_05_2023_09_10_[Changes]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_09_05_2023_09_10_[Changes]/shelved.patch	(revision 72bc01648d87ce85431ba9c64882bf153983b96e)
+++ /dev/null	(revision 72bc01648d87ce85431ba9c64882bf153983b96e)
@@ -1,106 +0,0 @@
-Index: app/src/main/res/layout/activity_main.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:orientation=\"vertical\">\n\n    <ScrollView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"400dp\"\n        android:layout_weight=\"0.1\">\n\n        <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\">\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Reader:\"\n                android:textSize=\"20dp\"></TextView>\n\n            <LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\">\n\n                <Spinner\n                    android:id=\"@+id/main_spinner_reader\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"></Spinner>\n\n                <Button\n                    android:id=\"@+id/main_button_list\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"List\"></Button>\n            </LinearLayout>\n\n            <LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\">\n\n                <Button\n                    android:id=\"@+id/main_button_open\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Open\"></Button>\n\n                <Button\n                    android:id=\"@+id/main_button_close\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Close\"></Button>\n            </LinearLayout>\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Slot:\"\n                android:textSize=\"20dp\"></TextView>\n\n            <LinearLayout\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\">\n\n                <Spinner\n                    android:id=\"@+id/main_spinner_slot\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"></Spinner>\n\n                <Button\n                    android:id=\"@+id/main_button_get_state\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Get State\"></Button>\n            </LinearLayout>\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Power Action:\"\n                android:textSize=\"20dp\"></TextView>\n\n            <LinearLayout\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\">\n\n                <Spinner\n                    android:id=\"@+id/main_spinner_power\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"></Spinner>\n\n                <Button\n                    android:id=\"@+id/main_button_power\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Power\"></Button>\n\n                <Button\n                    android:id=\"@+id/main_button_get_atr\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Get ATR\"></Button>\n            </LinearLayout>\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Protocol:\"\n                android:textSize=\"20dp\"></TextView>\n\n            <LinearLayout\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\">\n\n                <CheckBox\n                    android:id=\"@+id/main_check_box_t0\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"T=0\"></CheckBox>\n\n                <CheckBox\n                    android:id=\"@+id/main_check_box_t1\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"T=1\"></CheckBox>\n            </LinearLayout>\n\n            <LinearLayout\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\">\n\n                <Button\n                    android:id=\"@+id/main_button_set_protocol\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Set Protocol\"></Button>\n\n                <Button\n                    android:id=\"@+id/main_button_get_protocol\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Get Protocol\"></Button>\n            </LinearLayout>\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Transmit / Control:\"\n                android:textSize=\"20dp\"></TextView>\n\n            <LinearLayout\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\">\n\n                <Button\n                    android:id=\"@+id/main_button_transmit\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Transmit\"></Button>\n\n                <Button\n                    android:id=\"@+id/main_button_control\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Control\"></Button>\n\n                <EditText\n                    android:id=\"@+id/main_edit_text_control\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:inputType=\"number\"></EditText>\n            </LinearLayout>\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Secure PIN Entry:\"\n                android:textSize=\"20dp\"></TextView>\n\n            <Button\n                android:id=\"@+id/main_button_get_features\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Get Features\"></Button>\n\n            <LinearLayout\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\">\n\n                <Button\n                    android:id=\"@+id/main_button_verify_pin\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Verify PIN\"></Button>\n\n                <Button\n                    android:id=\"@+id/main_button_modify_pin\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Modify PIN\"></Button>\n            </LinearLayout>\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"ACR83 / APG8201:\"\n                android:textSize=\"20dp\"></TextView>\n\n            <LinearLayout\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\">\n\n                <Button\n                    android:id=\"@+id/main_button_read_key\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Read Key\"></Button>\n\n                <Button\n                    android:id=\"@+id/main_button_display_lcd_message\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Display LCD Message\"></Button>\n            </LinearLayout>\n        </LinearLayout>\n    </ScrollView>\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"fill_parent\"\n        android:layout_weight=\"0.9\"\n        android:background=\"#b6b6b6\"\n        android:orientation=\"vertical\">\n\n        <TextView\n            android:id=\"@+id/main_text_view_response\"\n            android:layout_width=\"fill_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_weight=\"0.9\"\n            android:text=\"TextView\"></TextView>\n\n        <EditText\n            android:id=\"@+id/main_edit_text_command\"\n            android:hint=\"Enter APDU here\"\n            android:layout_width=\"fill_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"0.1\"\n            android:inputType=\"textMultiLine\"\n\n            <requestFocus></requestFocus>\n        </EditText>\n\n    </LinearLayout>\n</LinearLayout>\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/activity_main.xml b/app/src/main/res/layout/activity_main.xml
---- a/app/src/main/res/layout/activity_main.xml	(revision 26b11250e56a36ab137cf885ed5e42960fff1a95)
-+++ b/app/src/main/res/layout/activity_main.xml	(date 1683546972726)
-@@ -244,21 +244,21 @@
- 
-         <TextView
-             android:id="@+id/main_text_view_response"
--            android:layout_width="fill_parent"
--            android:layout_height="match_parent"
-+            android:layout_width="match_parent"
-+            android:layout_height="344dp"
-             android:layout_weight="0.9"
-             android:text="TextView"></TextView>
- 
-         <EditText
-             android:id="@+id/main_edit_text_command"
--            android:hint="Enter APDU here"
-             android:layout_width="fill_parent"
-             android:layout_height="wrap_content"
-             android:layout_weight="0.1"
-+            android:hint="Enter APDU here"
-             android:inputType="textMultiLine"
- 
--            <requestFocus></requestFocus>
--        </EditText>
-+        <requestFocus></requestFocus>
-+    </EditText>
- 
-     </LinearLayout>
- </LinearLayout>
-Index: .idea/modules.xml
-===================================================================
-diff --git a/.idea/modules.xml b/.idea/modules.xml
-deleted file mode 100644
---- a/.idea/modules.xml	(revision 26b11250e56a36ab137cf885ed5e42960fff1a95)
-+++ /dev/null	(revision 26b11250e56a36ab137cf885ed5e42960fff1a95)
-@@ -1,12 +0,0 @@
--<?xml version="1.0" encoding="UTF-8"?>
--<project version="4">
--  <component name="ProjectModuleManager">
--    <modules>
--      <module fileurl="file://$PROJECT_DIR$/ReaderTest.iml" filepath="$PROJECT_DIR$/ReaderTest.iml" />
--      <module fileurl="file://$PROJECT_DIR$/.idea/modules/app/ReaderTest.app.iml" filepath="$PROJECT_DIR$/.idea/modules/app/ReaderTest.app.iml" />
--      <module fileurl="file://$PROJECT_DIR$/.idea/modules/app/ReaderTest.app.androidTest.iml" filepath="$PROJECT_DIR$/.idea/modules/app/ReaderTest.app.androidTest.iml" />
--      <module fileurl="file://$PROJECT_DIR$/.idea/modules/app/ReaderTest.app.main.iml" filepath="$PROJECT_DIR$/.idea/modules/app/ReaderTest.app.main.iml" />
--      <module fileurl="file://$PROJECT_DIR$/.idea/modules/app/ReaderTest.app.unitTest.iml" filepath="$PROJECT_DIR$/.idea/modules/app/ReaderTest.app.unitTest.iml" />
--    </modules>
--  </component>
--</project>
-\ No newline at end of file
-Index: .idea/jarRepositories.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"RemoteRepositoriesConfiguration\">\n    <remote-repository>\n      <option name=\"id\" value=\"central\" />\n      <option name=\"name\" value=\"Maven Central repository\" />\n      <option name=\"url\" value=\"https://repo1.maven.org/maven2\" />\n    </remote-repository>\n    <remote-repository>\n      <option name=\"id\" value=\"jboss.community\" />\n      <option name=\"name\" value=\"JBoss Community repository\" />\n      <option name=\"url\" value=\"https://repository.jboss.org/nexus/content/repositories/public/\" />\n    </remote-repository>\n    <remote-repository>\n      <option name=\"id\" value=\"BintrayJCenter\" />\n      <option name=\"name\" value=\"BintrayJCenter\" />\n      <option name=\"url\" value=\"https://jcenter.bintray.com/\" />\n    </remote-repository>\n    <remote-repository>\n      <option name=\"id\" value=\"Google\" />\n      <option name=\"name\" value=\"Google\" />\n      <option name=\"url\" value=\"https://dl.google.com/dl/android/maven2/\" />\n    </remote-repository>\n    <remote-repository>\n      <option name=\"id\" value=\"C:\\Users\\Rousselet\\AppData\\Local\\Android\\Sdk\\extras\\android\\m2repository\" />\n      <option name=\"name\" value=\"C:\\Users\\Rousselet\\AppData\\Local\\Android\\Sdk\\extras\\android\\m2repository\" />\n      <option name=\"url\" value=\"file:/$USER_HOME$/AppData/Local/Android/Sdk/extras/android/m2repository\" />\n    </remote-repository>\n    <remote-repository>\n      <option name=\"id\" value=\"C:\\Users\\Rousselet\\AppData\\Local\\Android\\Sdk\\extras\\m2repository\" />\n      <option name=\"name\" value=\"C:\\Users\\Rousselet\\AppData\\Local\\Android\\Sdk\\extras\\m2repository\" />\n      <option name=\"url\" value=\"file:/$USER_HOME$/AppData/Local/Android/Sdk/extras/m2repository\" />\n    </remote-repository>\n    <remote-repository>\n      <option name=\"id\" value=\"C:\\Users\\Rousselet\\AppData\\Local\\Android\\Sdk\\extras\\google\\m2repository\" />\n      <option name=\"name\" value=\"C:\\Users\\Rousselet\\AppData\\Local\\Android\\Sdk\\extras\\google\\m2repository\" />\n      <option name=\"url\" value=\"file:/$USER_HOME$/AppData/Local/Android/Sdk/extras/google/m2repository\" />\n    </remote-repository>\n  </component>\n</project>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/.idea/jarRepositories.xml b/.idea/jarRepositories.xml
---- a/.idea/jarRepositories.xml	(revision 26b11250e56a36ab137cf885ed5e42960fff1a95)
-+++ b/.idea/jarRepositories.xml	(date 1682255205667)
-@@ -36,5 +36,20 @@
-       <option name="name" value="C:\Users\Rousselet\AppData\Local\Android\Sdk\extras\google\m2repository" />
-       <option name="url" value="file:/$USER_HOME$/AppData/Local/Android/Sdk/extras/google/m2repository" />
-     </remote-repository>
-+    <remote-repository>
-+      <option name="id" value="$USER_HOME$/Library/Android/sdk/extras/android/m2repository" />
-+      <option name="name" value="$USER_HOME$/Library/Android/sdk/extras/android/m2repository" />
-+      <option name="url" value="file:$USER_HOME$/Library/Android/sdk/extras/android/m2repository" />
-+    </remote-repository>
-+    <remote-repository>
-+      <option name="id" value="$USER_HOME$/Library/Android/sdk/extras/google/m2repository" />
-+      <option name="name" value="$USER_HOME$/Library/Android/sdk/extras/google/m2repository" />
-+      <option name="url" value="file:$USER_HOME$/Library/Android/sdk/extras/google/m2repository" />
-+    </remote-repository>
-+    <remote-repository>
-+      <option name="id" value="$USER_HOME$/Library/Android/sdk/extras/m2repository" />
-+      <option name="name" value="$USER_HOME$/Library/Android/sdk/extras/m2repository" />
-+      <option name="url" value="file:$USER_HOME$/Library/Android/sdk/extras/m2repository" />
-+    </remote-repository>
-   </component>
- </project>
-\ No newline at end of file
-Index: .idea/misc.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"NullableNotNullManager\">\n    <option name=\"myDefaultNullable\" value=\"android.support.annotation.Nullable\" />\n    <option name=\"myDefaultNotNull\" value=\"android.support.annotation.NonNull\" />\n    <option name=\"myNullables\">\n      <value>\n        <list size=\"5\">\n          <item index=\"0\" class=\"java.lang.String\" itemvalue=\"org.jetbrains.annotations.Nullable\" />\n          <item index=\"1\" class=\"java.lang.String\" itemvalue=\"javax.annotation.Nullable\" />\n          <item index=\"2\" class=\"java.lang.String\" itemvalue=\"javax.annotation.CheckForNull\" />\n          <item index=\"3\" class=\"java.lang.String\" itemvalue=\"edu.umd.cs.findbugs.annotations.Nullable\" />\n          <item index=\"4\" class=\"java.lang.String\" itemvalue=\"android.support.annotation.Nullable\" />\n        </list>\n      </value>\n    </option>\n    <option name=\"myNotNulls\">\n      <value>\n        <list size=\"4\">\n          <item index=\"0\" class=\"java.lang.String\" itemvalue=\"org.jetbrains.annotations.NotNull\" />\n          <item index=\"1\" class=\"java.lang.String\" itemvalue=\"javax.annotation.Nonnull\" />\n          <item index=\"2\" class=\"java.lang.String\" itemvalue=\"edu.umd.cs.findbugs.annotations.NonNull\" />\n          <item index=\"3\" class=\"java.lang.String\" itemvalue=\"android.support.annotation.NonNull\" />\n        </list>\n      </value>\n    </option>\n  </component>\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_1_8\" default=\"true\" project-jdk-name=\"1.8\" project-jdk-type=\"JavaSDK\">\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\n  </component>\n  <component name=\"ProjectType\">\n    <option name=\"id\" value=\"Android\" />\n  </component>\n</project>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/.idea/misc.xml b/.idea/misc.xml
---- a/.idea/misc.xml	(revision 26b11250e56a36ab137cf885ed5e42960fff1a95)
-+++ b/.idea/misc.xml	(date 1681715503631)
-@@ -1,5 +1,6 @@
- <?xml version="1.0" encoding="UTF-8"?>
- <project version="4">
-+  <component name="ExternalStorageConfigurationManager" enabled="true" />
-   <component name="NullableNotNullManager">
-     <option name="myDefaultNullable" value="android.support.annotation.Nullable" />
-     <option name="myDefaultNotNull" value="android.support.annotation.NonNull" />
Index: app/src/main/res/values-night/themes.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values-night/themes.xml b/app/src/main/res/values-night/themes.xml
new file mode 100644
--- /dev/null	(date 1683615810430)
+++ b/app/src/main/res/values-night/themes.xml	(date 1683615810430)
@@ -0,0 +1,7 @@
+<resources>
+
+    <style name="ThemeOverlay.Innovation_grp304_Chanel.FullscreenContainer" parent="">
+        <item name="fullscreenBackgroundColor">@color/light_blue_900</item>
+        <item name="fullscreenTextColor">@color/light_blue_A400</item>
+    </style>
+</resources>
\ No newline at end of file
Index: app/src/main/res/values-w600dp/dimens.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values-w600dp/dimens.xml b/app/src/main/res/values-w600dp/dimens.xml
new file mode 100644
--- /dev/null	(date 1683615810432)
+++ b/app/src/main/res/values-w600dp/dimens.xml	(date 1683615810432)
@@ -0,0 +1,3 @@
+<resources>
+    <dimen name="activity_horizontal_margin">48dp</dimen>
+</resources>
\ No newline at end of file
Index: app/src/main/res/values/styles.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <style name=\"AppBaseTheme\" parent=\"android:Theme.Light\">\r\n        <!--\r\n            Theme customizations available in newer API levels can go in\r\n            res/values-vXX/styles.xml, while customizations related to\r\n            backward-compatibility can go here.\r\n        -->\r\n\r\n    </style>\r\n\r\n    <style name=\"AppTheme\" parent=\"AppBaseTheme\">\r\n        <!-- All customizations that are NOT specific to a particular API-level can go here. -->\r\n    </style>\r\n\r\n</resources>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/styles.xml b/app/src/main/res/values/styles.xml
--- a/app/src/main/res/values/styles.xml	(revision 72bc01648d87ce85431ba9c64882bf153983b96e)
+++ b/app/src/main/res/values/styles.xml	(date 1683618195533)
@@ -1,4 +1,5 @@
 <resources>
+
     <style name="AppBaseTheme" parent="android:Theme.Light">
         <!--
             Theme customizations available in newer API levels can go in
@@ -12,4 +13,9 @@
         <!-- All customizations that are NOT specific to a particular API-level can go here. -->
     </style>
 
+    <style name="Widget.AppTheme.ButtonBar.Fullscreen" parent="">
+        <item name="android:background">#000000</item>
+        <item name="android:buttonBarStyle">?android:attr/buttonBarStyle</item>
+    </style>
+
 </resources>
Index: app/src/main/res/layout/fragment_page_accueil.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_page_accueil.xml b/app/src/main/res/layout/fragment_page_accueil.xml
new file mode 100644
--- /dev/null	(date 1683615810427)
+++ b/app/src/main/res/layout/fragment_page_accueil.xml	(date 1683615810427)
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent">
+
+    <ImageView
+        android:id="@+id/imageView"
+        android:layout_width="match_parent"
+        android:layout_height="289dp"
+        android:layout_alignParentTop="true"
+        android:layout_marginTop="39dp"
+        android:src="@mipmap/ic_launcher_round" />
+
+    <Button
+        android:id="@+id/modesimpleButton"
+        android:layout_width="201dp"
+        android:layout_height="97dp"
+        android:layout_below="@id/imageView"
+        android:layout_centerHorizontal="true"
+        android:layout_marginTop="90dp"
+        android:text="Mode simplifié" />
+
+    <Button
+        android:id="@+id/modedevButton"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_below="@id/modesimpleButton"
+        android:layout_centerHorizontal="true"
+        android:layout_marginTop="153dp"
+        android:text="Mode développeur" />
+
+</RelativeLayout>
\ No newline at end of file
Index: app/src/main/res/layout/activity_profile.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/violet_clair\">\r\n\r\n    <!-- Rectangle aux coins arrondis pour les textes -->\r\n    <View\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"578dp\"\r\n        android:layout_below=\"@id/profile_picture\"\r\n        android:layout_marginLeft=\"30dp\"\r\n        android:layout_marginTop=\"-118dp\"\r\n        android:layout_marginRight=\"30dp\"\r\n        android:background=\"@drawable/ic_rectangle_arrondi\" />\r\n\r\n    <!-- Photo de profil -->\r\n    <ImageView\r\n        android:id=\"@+id/profile_picture\"\r\n        android:layout_width=\"120dp\"\r\n        android:layout_height=\"120dp\"\r\n        android:layout_centerHorizontal=\"true\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:background=\"@drawable/ic_pdp\"\r\n        android:src=\"@drawable/ic_launcher\" />\r\n\r\n    <!-- Nom d'utilisateur -->\r\n    <TextView\r\n        android:id=\"@+id/username_textview\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@+id/profile_picture\"\r\n        android:layout_centerHorizontal=\"true\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:text=\"Krissou Krissou\"\r\n        android:textSize=\"20sp\"\r\n        android:textStyle=\"bold\" />\r\n\r\n    <!-- Biographie -->\r\n    <TextView\r\n        android:id=\"@+id/bio_textview\"\r\n        android:layout_width=\"275dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@+id/username_textview\"\r\n        android:layout_centerHorizontal=\"true\"\r\n        android:layout_marginHorizontal=\"32dp\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:lineSpacingExtra=\"8dp\"\r\n        android:text=\"Hey !\"\r\n        android:textColor=\"@color/noir\"\r\n        android:textSize=\"16sp\" />\r\n\r\n    <RelativeLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_alignParentStart=\"true\"\r\n        android:layout_alignParentTop=\"true\">\r\n\r\n        <TextView\r\n            android:layout_width=\"158dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignParentStart=\"false\"\r\n            android:layout_alignParentTop=\"false\"\r\n            android:layout_marginHorizontal=\"32dp\"\r\n            android:layout_marginLeft=\"200dp\"\r\n            android:layout_marginTop=\"100dp\"\r\n            android:text=\"Adresse mail\"\r\n            android:textSize=\"16sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <TextView\r\n            android:layout_width=\"275dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignParentTop=\"true\"\r\n            android:layout_alignParentEnd=\"true\"\r\n            android:layout_marginHorizontal=\"32dp\"\r\n            android:layout_marginTop=\"288dp\"\r\n            android:layout_marginEnd=\"67dp\"\r\n            android:paddingStart=\"16dp\"\r\n            android:paddingEnd=\"16dp\"\r\n            android:paddingBottom=\"16dp\"\r\n            android:text=\"nom.prenom@entreprise.com\"\r\n            android:textSize=\"14sp\" />\r\n\r\n        <TextView\r\n            android:layout_width=\"299dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignParentTop=\"true\"\r\n            android:layout_alignParentEnd=\"true\"\r\n            android:layout_marginTop=\"318dp\"\r\n            android:layout_marginEnd=\"71dp\"\r\n            android:paddingStart=\"16dp\"\r\n            android:paddingTop=\"16dp\"\r\n            android:paddingEnd=\"16dp\"\r\n            android:paddingBottom=\"8dp\"\r\n            android:text=\"Poste occupé\"\r\n            android:textSize=\"16sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <TextView\r\n            android:layout_width=\"265dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignParentEnd=\"true\"\r\n            android:layout_alignParentBottom=\"true\"\r\n            android:layout_marginEnd=\"74dp\"\r\n            android:layout_marginBottom=\"213dp\"\r\n            android:paddingStart=\"16dp\"\r\n            android:paddingEnd=\"16dp\"\r\n            android:paddingBottom=\"16dp\"\r\n            android:text=\"Ingénieur développement\"\r\n            android:textSize=\"14sp\" />\r\n\r\n        <TextView\r\n            android:layout_width=\"373dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignParentEnd=\"true\"\r\n            android:layout_alignParentBottom=\"true\"\r\n            android:layout_marginEnd=\"-3dp\"\r\n            android:layout_marginBottom=\"181dp\"\r\n            android:paddingStart=\"16dp\"\r\n            android:paddingTop=\"16dp\"\r\n            android:paddingEnd=\"16dp\"\r\n            android:paddingBottom=\"8dp\"\r\n            android:text=\"Numéro de téléphone\"\r\n            android:textSize=\"16sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <TextView\r\n            android:layout_width=\"230dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignParentEnd=\"true\"\r\n            android:layout_alignParentBottom=\"true\"\r\n            android:layout_marginEnd=\"110dp\"\r\n            android:layout_marginBottom=\"146dp\"\r\n            android:paddingStart=\"16dp\"\r\n            android:paddingEnd=\"16dp\"\r\n            android:paddingBottom=\"16dp\"\r\n            android:text=\"01 23 45 67 89\"\r\n            android:textSize=\"14sp\" />\r\n\r\n        <TextView\r\n            android:layout_width=\"323dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignParentTop=\"true\"\r\n            android:layout_alignParentEnd=\"true\"\r\n            android:layout_marginTop=\"449dp\"\r\n            android:layout_marginEnd=\"48dp\"\r\n            android:paddingStart=\"16dp\"\r\n            android:paddingTop=\"16dp\"\r\n            android:paddingEnd=\"16dp\"\r\n            android:paddingBottom=\"8dp\"\r\n            android:text=\"Autorisations de salles\"\r\n            android:textSize=\"16sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <TextView\r\n            android:layout_width=\"274dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignParentEnd=\"true\"\r\n            android:layout_alignParentBottom=\"true\"\r\n            android:layout_marginEnd=\"65dp\"\r\n            android:layout_marginBottom=\"86dp\"\r\n            android:paddingStart=\"16dp\"\r\n            android:paddingEnd=\"16dp\"\r\n            android:paddingBottom=\"16dp\"\r\n            android:text=\"Salle 1, Salle 2, Salle 3\"\r\n            android:textSize=\"14sp\" />\r\n\r\n    </RelativeLayout>\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_profile.xml b/app/src/main/res/layout/activity_profile.xml
--- a/app/src/main/res/layout/activity_profile.xml	(revision 72bc01648d87ce85431ba9c64882bf153983b96e)
+++ b/app/src/main/res/layout/activity_profile.xml	(date 1683615725007)
@@ -59,11 +59,11 @@
         <TextView
             android:layout_width="158dp"
             android:layout_height="wrap_content"
-            android:layout_alignParentStart="false"
-            android:layout_alignParentTop="false"
+            android:layout_alignParentStart="true"
+            android:layout_alignParentTop="true"
             android:layout_marginHorizontal="32dp"
-            android:layout_marginLeft="200dp"
-            android:layout_marginTop="100dp"
+            android:layout_marginStart="43dp"
+            android:layout_marginTop="261dp"
             android:text="Adresse mail"
             android:textSize="16sp"
             android:textStyle="bold" />
Index: app/src/main/res/values/colors.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources>\r\n    <color name=\"rouge\">#d90000</color>\r\n    <color name=\"vert\">#66bb6a</color>\r\n    <color name=\"bleu\">#1b76ff</color>\r\n    <color name=\"violet_clair\">#9250bc</color>\r\n    <color name=\"violet_dark\">#732dd9</color>\r\n    <color name=\"noir\">#000000</color>\r\n    <color name=\"blanc\">#FFFFFF</color>\r\n    <color name=\"jaune\">#FFEB3B</color>\r\n    <color name=\"gris\">#8c8c8c</color>\r\n\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/colors.xml b/app/src/main/res/values/colors.xml
--- a/app/src/main/res/values/colors.xml	(revision 72bc01648d87ce85431ba9c64882bf153983b96e)
+++ b/app/src/main/res/values/colors.xml	(date 1683618286611)
@@ -9,5 +9,8 @@
     <color name="blanc">#FFFFFF</color>
     <color name="jaune">#FFEB3B</color>
     <color name="gris">#8c8c8c</color>
-
+    <color name="light_blue_600">#d90000</color>
+    <color name="light_blue_A200">#d90000</color>
+    <color name="light_blue_900">#d90000</color>
+    <color name="light_blue_A400">#d90000</color>
 </resources>
\ No newline at end of file
Index: app/src/main/res/values-w1240dp/dimens.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values-w1240dp/dimens.xml b/app/src/main/res/values-w1240dp/dimens.xml
new file mode 100644
--- /dev/null	(date 1683615810431)
+++ b/app/src/main/res/values-w1240dp/dimens.xml	(date 1683615810431)
@@ -0,0 +1,3 @@
+<resources>
+    <dimen name="activity_horizontal_margin">200dp</dimen>
+</resources>
\ No newline at end of file
Index: app/src/main/res/values-land/dimens.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values-land/dimens.xml b/app/src/main/res/values-land/dimens.xml
new file mode 100644
--- /dev/null	(date 1683615810430)
+++ b/app/src/main/res/values-land/dimens.xml	(date 1683615810430)
@@ -0,0 +1,3 @@
+<resources>
+    <dimen name="activity_horizontal_margin">48dp</dimen>
+</resources>
\ No newline at end of file
Index: .idea/deploymentTargetDropDown.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/deploymentTargetDropDown.xml b/.idea/deploymentTargetDropDown.xml
new file mode 100644
--- /dev/null	(date 1683615810409)
+++ b/.idea/deploymentTargetDropDown.xml	(date 1683615810409)
@@ -0,0 +1,17 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="deploymentTargetDropDown">
+    <runningDeviceTargetSelectedWithDropDown>
+      <Target>
+        <type value="RUNNING_DEVICE_TARGET" />
+        <deviceKey>
+          <Key>
+            <type value="SERIAL_NUMBER" />
+            <value value="RZCT50DFCXE" />
+          </Key>
+        </deviceKey>
+      </Target>
+    </runningDeviceTargetSelectedWithDropDown>
+    <timeTargetWasSelectedWithDropDown value="2023-04-19T14:36:22.981031400Z" />
+  </component>
+</project>
\ No newline at end of file
Index: app/src/main/java/com/acs/readertest/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.acs.readertest;\r\n\r\nimport android.annotation.TargetApi;\r\nimport android.app.Activity;\r\nimport android.app.AlertDialog;\r\nimport android.app.PendingIntent;\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.content.IntentFilter;\r\nimport android.hardware.usb.UsbDevice;\r\nimport android.hardware.usb.UsbManager;\r\nimport android.os.AsyncTask;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.text.InputType;\r\nimport android.text.method.ScrollingMovementMethod;\r\nimport android.util.Log;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.View.OnClickListener;\r\nimport android.view.WindowManager;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\n\r\nimport com.acs.smartcard.Features;\r\nimport com.acs.smartcard.Reader;\r\nimport com.acs.smartcard.Reader.OnStateChangeListener;\r\n\r\nimport java.text.DateFormat;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\n/**\r\n * Read and write Mifare ultralight and Mifare Classik 1k program for ACR122U reader\r\n *\r\n * @author Rousselet Léo, Pigot Kris, Chen Coline ESME\r\n * @version 0.1 13/01/2023\r\n */\r\n\r\npublic class MainActivity extends Activity {\r\n\r\n    private static final String ACTION_USB_PERMISSION = \"com.android.example.USB_PERMISSION\";\r\n\r\n    private static final String[] powerActionStrings = { \"Power Down\", \"Cold Reset\", \"Warm Reset\" };\r\n\r\n    private static final String[] stateStrings = { \"Unknown\", \"Absent\", \"Present\",\r\n            \"Swallowed\", \"Powered\", \"Negotiable\", \"Specific\" };\r\n\r\n    private UsbManager mManager;\r\n    private Reader mReader;\r\n    private PendingIntent mPermissionIntent;\r\n    private static final int MAX_LINES = 25;\r\n    private TextView mResponseTextView;\r\n    private Spinner mReaderSpinner;\r\n    private ArrayAdapter<String> mReaderAdapter;\r\n    private Spinner mPowerSpinner;\r\n    private Button mOpenButton;\r\n    private Button mCloseButton;\r\n    private Button mPowerButton;\r\n    private EditText mCommandEditText;\r\n    private Button mTransmitButton;\r\n    private Button mReadTagButton;\r\n    private Button mWriteTagButton;\r\n    private final Features mFeatures = new Features();\r\n    private String typeOfCard = \"\";\r\n    private String m_Text;\r\n\r\n    /*Code de Krissou*/\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.main, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        // Handle item selection\r\n        switch (item.getItemId()) {\r\n            case R.id.imageView:\r\n                Toast.makeText(getApplicationContext(),\"Vous avez cliqué sur mode avancé\", Toast.LENGTH_SHORT).show();\r\n                Intent intent = new Intent(this, MainActivity.class);\r\n                startActivity(intent);\r\n                return true;\r\n            case R.id.action_settings:\r\n                //settings();\r\n                Toast.makeText(getApplicationContext(),\"Vous avez cliqué sur les paramètres\", Toast.LENGTH_SHORT).show();\r\n                Intent intent2 = new Intent(this, ActivitySettings.class);\r\n                startActivity(intent2);\r\n                return true;\r\n            default:\r\n                return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n\r\n    /*Code de Krissou*/\r\n\r\n\r\n\r\n    //Check la connection USB avec le lecteur, et l'autorisation à utiliser le lecteur.\r\n    private final BroadcastReceiver mReceiver = new BroadcastReceiver() {\r\n\r\n        public void onReceive(Context context, Intent intent) {\r\n\r\n            String action = intent.getAction();\r\n            //Si appareil en USB detecté, on demande l'autorisation de check.\r\n            if (ACTION_USB_PERMISSION.equals(action)) {\r\n                synchronized (this) {\r\n                    UsbDevice device = intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n                    if (intent.getBooleanExtra(\r\n                            UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\r\n                        if (device != null) {\r\n                            logMsg(\"Opening reader: \" + device.getDeviceName() + \"...\");\r\n                            new OpenTask().execute(device);\r\n                        }\r\n                    } else {\r\n                        logMsg(\"Permission denied for device \" + device.getDeviceName());\r\n                        mOpenButton.setEnabled(true);\r\n                    }\r\n                }\r\n            }\r\n            //Shut down le lecteur si déconecté du port USB\r\n            else if (UsbManager.ACTION_USB_DEVICE_DETACHED.equals(action)) {\r\n\r\n                synchronized (this) {\r\n                    mReaderAdapter.clear();\r\n                    for (UsbDevice device : mManager.getDeviceList().values()) {\r\n                        if (mReader.isSupported(device)) {\r\n                            mReaderAdapter.add(device.getDeviceName());\r\n                        }\r\n                    }\r\n                    UsbDevice device = intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n\r\n                    if (device != null && device.equals(mReader.getDevice())) {\r\n                        setButtons(false);\r\n                        logMsg(\"Closing reader...\");\r\n                        new CloseTask().execute();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    //Ouvrir l'accès au lecteur\r\n    private class OpenTask extends AsyncTask<UsbDevice, Void, Exception> {\r\n\r\n        @Override\r\n        //Ouvre le lecteur\r\n        protected Exception doInBackground(UsbDevice... params) {\r\n            Exception result = null;\r\n            try {\r\n                mReader.open(params[0]);\r\n            } catch (Exception e) {\r\n                result = e;\r\n            }\r\n            return result;\r\n        }\r\n\r\n        @Override\r\n        //Affiche les propriétés du lecteur une fois ouvert\r\n        protected void onPostExecute(Exception result) {\r\n\r\n            if (result != null) {\r\n                logMsg(result.toString());\r\n\r\n            } else {\r\n                logMsg(\"Reader name: \" + mReader.getReaderName());\r\n                int numSlots = mReader.getNumSlots();\r\n                logMsg(\"Number of slots: \" + numSlots);\r\n                // Remove all control codes\r\n                mFeatures.clear();\r\n                setButtons(true);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    //Fermer l'accès au lecteur\r\n    private class CloseTask extends AsyncTask<Void, Void, Void> {\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... params) {\r\n            mReader.close();\r\n            return null;\r\n        }\r\n        @Override\r\n        protected void onPostExecute(Void result) {\r\n            mOpenButton.setEnabled(true);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private static class PowerParams {\r\n        public int slotNum;\r\n        public int action;\r\n    }\r\n\r\n    private static class PowerResult {\r\n        public byte[] atr;\r\n        public Exception e;\r\n    }\r\n\r\n    //Alimente la carte NFC\r\n    private class PowerTask extends AsyncTask<PowerParams, Void, PowerResult> {\r\n\r\n        @Override\r\n        protected PowerResult doInBackground(PowerParams... params) {\r\n            PowerResult result = new PowerResult();\r\n            try {\r\n                result.atr = mReader.power(params[0].slotNum, params[0].action);\r\n\r\n            } catch (Exception e) {\r\n                result.e = e;\r\n            }\r\n            return result;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(PowerResult result) {\r\n\r\n            if (result.e != null) {\r\n                logMsg(result.e.toString());\r\n            } else {\r\n                if (result.atr != null) {\r\n                    logMsg(\"ATR:\");\r\n                    String stringAtr = logBuffer(result.atr, result.atr.length);\r\n\r\n                    if(stringAtr.equals(\"3B 8F 80 01 80 4F 0C A0 00 00 03 06 03 00 01 00 00 00 00 6A \")){\r\n                        typeOfCard = \"Mifare classic 1k\";\r\n                    }else if(stringAtr.equals(\"3B 8F 80 01 80 4F 0C A0 00 00 03 06 03 00 03 00 00 00 00 68 \")){\r\n                        typeOfCard = \"Mifare Ultralight\";\r\n                    }\r\n                    else {\r\n                        typeOfCard = \"Unknown\";\r\n                    }\r\n                    logMsg(typeOfCard);\r\n\r\n                } else {\r\n                    logMsg(\"ATR: None\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private static class SetProtocolParams {\r\n        public int slotNum;\r\n        public int preferredProtocols;\r\n    }\r\n\r\n    private static class SetProtocolResult {\r\n        public int activeProtocol;\r\n        public Exception e;\r\n    }\r\n\r\n\r\n    //Set le protocol de la carte (Pour ultralight ou class1k, forcément T=1)\r\n    private class SetProtocolTask extends AsyncTask<SetProtocolParams, Void, SetProtocolResult> {\r\n\r\n        @Override\r\n        protected SetProtocolResult doInBackground(SetProtocolParams... params) {\r\n            SetProtocolResult result = new SetProtocolResult();\r\n            params[0].preferredProtocols = Reader.PROTOCOL_T1;\r\n            try {\r\n                result.activeProtocol = mReader.setProtocol(params[0].slotNum,\r\n                        params[0].preferredProtocols);\r\n            } catch (Exception e) {\r\n                result.e = e;\r\n            }\r\n            return result;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(SetProtocolResult result) {\r\n            if (result.e != null) {\r\n                logMsg(result.e.toString());\r\n\r\n            } else {\r\n                logMsg(\"Active Protocol: T=1\");\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private static class TransmitParams {\r\n        public int slotNum;\r\n        public int controlCode;\r\n        public String commandString;\r\n    }\r\n\r\n    private static class TransmitProgress {\r\n        public int controlCode;\r\n        public byte[] command;\r\n        public int commandLength;\r\n        public byte[] response;\r\n        public int responseLength;\r\n        public Exception e;\r\n    }\r\n\r\n    //Transmission d'un APDU et caractéritiques\r\n    private class TransmitTask extends\r\n            AsyncTask<TransmitParams, TransmitProgress, Void> {\r\n\r\n        @Override\r\n        protected Void doInBackground(TransmitParams... params) {\r\n\r\n            TransmitProgress progress;\r\n            byte[] command;\r\n            byte[] response;\r\n            int responseLength;\r\n            int foundIndex;\r\n            int startIndex = 0;\r\n\r\n            do {\r\n                // Find carriage return\r\n                foundIndex = params[0].commandString.indexOf('\\n', startIndex);\r\n                if (foundIndex >= 0) {\r\n                    command = NfcUtils.toByteArray(params[0].commandString.substring(\r\n                            startIndex, foundIndex));\r\n                } else {\r\n                    command = NfcUtils.toByteArray(params[0].commandString\r\n                            .substring(startIndex));\r\n                }\r\n\r\n                // Set next start index\r\n                startIndex = foundIndex + 1;\r\n                response = new byte[300];\r\n                progress = new TransmitProgress();\r\n                progress.controlCode = params[0].controlCode;\r\n                try {\r\n\r\n                    if (params[0].controlCode < 0) {\r\n                        // Transmit APDU\r\n                        responseLength = mReader.transmit(params[0].slotNum,\r\n                                command, command.length, response,\r\n                                response.length);\r\n                    } else {\r\n                        // Transmit control command\r\n                        responseLength = mReader.control(params[0].slotNum,\r\n                                params[0].controlCode, command, command.length,\r\n                                response, response.length);\r\n                    }\r\n\r\n                    progress.command = command;\r\n                    progress.commandLength = command.length;\r\n                    progress.response = response;\r\n                    progress.responseLength = responseLength;\r\n                    progress.e = null;\r\n\r\n                } catch (Exception e) {\r\n                    progress.command = null;\r\n                    progress.commandLength = 0;\r\n                    progress.response = null;\r\n                    progress.responseLength = 0;\r\n                    progress.e = e;\r\n                }\r\n                publishProgress(progress);\r\n            } while (foundIndex >= 0);\r\n            return null;\r\n        }\r\n\r\n\r\n        @Override\r\n        protected void onProgressUpdate(TransmitProgress... progress) {\r\n            if (progress[0].e != null) {\r\n                logMsg(progress[0].e.toString());\r\n            } else {\r\n                logBuffer(progress[0].response, progress[0].responseLength);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @TargetApi(Build.VERSION_CODES.M)\r\n    @Override\r\n    //Initialisation des composants au lancement de l'appli\r\n    public void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        // Get USB manager\r\n        mManager = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n        // Initialise le lecteur\r\n        assert mManager != null;\r\n        mReader = new Reader(mManager);\r\n        mReader.setOnStateChangeListener(new OnStateChangeListener() {\r\n\r\n            @Override\r\n            //Vérifie l'état en cours du lecteur (en lecture de carte ou non)\r\n            public void onStateChange(int slotNum, int prevState, int currState) {\r\n\r\n                if (prevState < Reader.CARD_UNKNOWN || prevState > Reader.CARD_SPECIFIC) {\r\n                    prevState = Reader.CARD_UNKNOWN;\r\n                }\r\n                if (currState < Reader.CARD_UNKNOWN || currState > Reader.CARD_SPECIFIC) {\r\n                    currState = Reader.CARD_UNKNOWN;\r\n                }\r\n                // Create output string\r\n                final String outputString = \"Slot \" + slotNum + \": \"\r\n                        + stateStrings[prevState] + \" -> \" + stateStrings[currState];\r\n                // Show output\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        logMsg(outputString);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        // Register receiver for USB permission\r\n        mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(\r\n                ACTION_USB_PERMISSION), PendingIntent.FLAG_UPDATE_CURRENT);\r\n        IntentFilter filter = new IntentFilter();\r\n        filter.addAction(ACTION_USB_PERMISSION);\r\n        filter.addAction(UsbManager.ACTION_USB_DEVICE_DETACHED);\r\n        registerReceiver(mReceiver, filter);\r\n\r\n        // Initialize response text view\r\n        mResponseTextView = findViewById(R.id.main_text_view_response);\r\n        mResponseTextView.setMovementMethod(new ScrollingMovementMethod());\r\n        mResponseTextView.setMaxLines(MAX_LINES);\r\n        mResponseTextView.setText(\"\");\r\n\r\n        // Initialize reader spinner\r\n        mReaderAdapter = new ArrayAdapter<>(this,\r\n                android.R.layout.simple_spinner_item);\r\n        for (UsbDevice device : mManager.getDeviceList().values()) {\r\n            if (mReader.isSupported(device)) {\r\n                mReaderAdapter.add(device.getDeviceName());\r\n            }\r\n        }\r\n        mReaderSpinner = findViewById(R.id.main_spinner_reader);\r\n        mReaderSpinner.setAdapter(mReaderAdapter);\r\n\r\n        // Initialize power spinner\r\n        ArrayAdapter<String> powerAdapter = new ArrayAdapter<>(this,\r\n                android.R.layout.simple_spinner_item, powerActionStrings);\r\n        mPowerSpinner = findViewById(R.id.main_spinner_power);\r\n        mPowerSpinner.setAdapter(powerAdapter);\r\n        mPowerSpinner.setSelection(Reader.CARD_WARM_RESET);\r\n\r\n        // Initialize list button\r\n        Button mListButton = findViewById(R.id.main_button_list);\r\n        mListButton.setOnClickListener(new OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n                mReaderAdapter.clear();\r\n                for (UsbDevice device : mManager.getDeviceList().values()) {\r\n                    if (mReader.isSupported(device)) {\r\n                        mReaderAdapter.add(device.getDeviceName());\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        // Initialize open button\r\n        mOpenButton = findViewById(R.id.main_button_open);\r\n        mOpenButton.setOnClickListener(new OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                boolean requested = false;\r\n                mOpenButton.setEnabled(false);\r\n                String deviceName = (String) mReaderSpinner.getSelectedItem();\r\n\r\n                if (deviceName != null) {\r\n                    // For each device\r\n                    for (UsbDevice device : mManager.getDeviceList().values()) {\r\n                        // If device name is found\r\n                        if (deviceName.equals(device.getDeviceName())) {\r\n                            // Request permission\r\n                            mManager.requestPermission(device, mPermissionIntent);\r\n                            requested = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (!requested) {\r\n                    mOpenButton.setEnabled(true);\r\n                }\r\n            }\r\n        });\r\n\r\n        // Initialize close button\r\n        mCloseButton = findViewById(R.id.main_button_close);\r\n        mCloseButton.setOnClickListener(new OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n                setButtons(false);\r\n                logMsg(\"Closing reader...\");\r\n                new CloseTask().execute();\r\n            }\r\n        });\r\n\r\n\r\n        // Initialize power button\r\n        mPowerButton = findViewById(R.id.main_button_power);\r\n        mPowerButton.setOnClickListener(new OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                // Get action number\r\n                int actionNum = mPowerSpinner.getSelectedItemPosition();\r\n                // If action is selected\r\n                if (actionNum != Spinner.INVALID_POSITION) {\r\n                    if (actionNum < Reader.CARD_POWER_DOWN || actionNum > Reader.CARD_WARM_RESET) {\r\n                        actionNum = Reader.CARD_WARM_RESET;\r\n                    }\r\n\r\n                    // Set parameters\r\n                    PowerParams params = new PowerParams();\r\n                    params.slotNum = 0;\r\n                    params.action = actionNum;\r\n\r\n                    // Perform power action\r\n                    logMsg(\"Slot 0 : \" + powerActionStrings[actionNum] + \"...\");\r\n                    new PowerTask().execute(params);\r\n\r\n                    //Automatically set protocol to 1 (due to mifare class1k and ultralight)\r\n                    int preferredProtocols = Reader.PROTOCOL_T1;\r\n                    String preferredProtocolsString = \"T=1\";\r\n\r\n\r\n                    SetProtocolParams params2 = new SetProtocolParams();\r\n                    params2.slotNum = 0;\r\n                    params2.preferredProtocols = preferredProtocols;\r\n                    logMsg(\"Slot 0 :  Setting protocol to \" + preferredProtocolsString + \"...\");\r\n                    new SetProtocolTask().execute(params2);\r\n                }\r\n            }\r\n        });\r\n\r\n        // Initialize command edit text\r\n        mCommandEditText = findViewById(R.id.main_edit_text_command);\r\n        // Initialize transmit button\r\n        mTransmitButton = findViewById(R.id.main_button_transmit);\r\n        mTransmitButton.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                TransmitParams params = new TransmitParams();\r\n                params.slotNum = 0;\r\n                params.controlCode = -1;\r\n                params.commandString = mCommandEditText.getText().toString();\r\n                logMsg(\"Slot 0 : Transmitting APDU...\");\r\n                new TransmitTask().execute(params);\r\n            }\r\n        });\r\n\r\n        //Initialize ReadTag button\r\n        mReadTagButton = findViewById(R.id.main_button_ReadTag);\r\n        mReadTagButton.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                logMsg(\"Processing Read command : please wait ...\\n\");\r\n                TransmitParams params = new TransmitParams();\r\n                params.controlCode = -1;\r\n\r\n                //Number of the pages we want to read\r\n                String[] arr = {};\r\n\r\n                if (typeOfCard.equals(\"Mifare Ultralight\")){\r\n                    //Read 4 pages by 4 pages (it seems to be impossible to do more in one command)\r\n                    arr= new String[]{\"04\",\"08\", \"0C\"};\r\n                }else if (typeOfCard.equals(\"Mifare classic 1k\")){\r\n                    arr= new String[]{\"04\"};\r\n                }\r\n\r\n                logMsg(\"Informations mémoires : \");\r\n                for (String i:arr){\r\n                    logMsg(\"Processing reading : \" + i);\r\n                    params.commandString = \"FF B0 00 \"+ i + \" 10\";\r\n                    new TransmitTask().execute(params);\r\n                }\r\n            }\r\n        });\r\n\r\n        mWriteTagButton = findViewById(R.id.main_button_WriteTag);\r\n\r\n        mWriteTagButton.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\r\n                builder.setTitle(\"Ecriture mémoire\");\r\n                builder.setMessage(\"Quel est le message que vous voulez écrire dans la mémoire ? \");\r\n\r\n                // Set up the input\r\n                final EditText input = new EditText(MainActivity.this);\r\n                input.setInputType(InputType.TYPE_CLASS_TEXT);\r\n                builder.setView(input);\r\n\r\n                // Set up the buttons\r\n                builder.setPositiveButton(\"Confirmer\", new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        m_Text = input.getText().toString();\r\n                        String textParsed = NfcUtils.parseText(m_Text);\r\n                        logMsg(\"Votre message à bien été enregistré : \");\r\n                        logMsg(m_Text);\r\n                        logMsg(textParsed);\r\n                    }\r\n                });\r\n                builder.setNegativeButton(\"Annuler\", new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        dialog.cancel();\r\n                    }\r\n                });\r\n                builder.show();\r\n            }\r\n        });\r\n\r\n        setButtons(false);\r\n        // Hide input window\r\n        getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        mReader.close();\r\n        unregisterReceiver(mReceiver);\r\n        super.onDestroy();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // Display the message\r\n    public void logMsg(String msg) {\r\n\r\n        DateFormat dateFormat = new SimpleDateFormat(\"[dd-MM-yyyy HH:mm:ss]: \");\r\n        Date date = new Date();\r\n        String oldMsg = mResponseTextView.getText().toString();\r\n\r\n        mResponseTextView.setText(oldMsg + \"\\n\" + dateFormat.format(date) + msg);\r\n\r\n        if (mResponseTextView.getLineCount() > MAX_LINES) {\r\n            mResponseTextView.scrollTo(0, (mResponseTextView.getLineCount() - MAX_LINES)\r\n                            * mResponseTextView.getLineHeight());\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n//Display the content of the buffer\r\n    private String logBuffer(byte[] buffer, int bufferLength) {\r\n        StringBuilder bufferString = new StringBuilder();\r\n        String completeBufferString = \"\";\r\n        for (int i = 0; i < bufferLength; i++) {\r\n            String hexChar = Integer.toHexString(buffer[i] & 0xFF);\r\n            if (hexChar.length() == 1) {\r\n                hexChar = \"0\" + hexChar;\r\n            }\r\n            if (i % 16 == 0) {\r\n                if (!bufferString.toString().equals(\"\")) {\r\n                    logMsg(bufferString.toString());\r\n                    completeBufferString = bufferString.toString();\r\n                    bufferString = new StringBuilder();\r\n                }\r\n            }\r\n            bufferString.append(hexChar.toUpperCase()).append(\" \");\r\n        }\r\n        if (!bufferString.toString().equals(\"\")) {\r\n            logMsg(bufferString.toString());\r\n        }\r\n        completeBufferString = completeBufferString + bufferString;\r\n        return completeBufferString;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    private void setButtons(boolean bool){\r\n        mCloseButton.setEnabled(bool);\r\n        mPowerSpinner.setEnabled(bool);\r\n        mPowerButton.setEnabled(bool);\r\n        mTransmitButton.setEnabled(bool);\r\n        mReadTagButton.setEnabled(bool);\r\n        mWriteTagButton.setEnabled(bool);\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/acs/readertest/MainActivity.java b/app/src/main/java/com/acs/readertest/MainActivity.java
--- a/app/src/main/java/com/acs/readertest/MainActivity.java	(revision 72bc01648d87ce85431ba9c64882bf153983b96e)
+++ b/app/src/main/java/com/acs/readertest/MainActivity.java	(date 1683617429082)
@@ -16,7 +16,6 @@
 import android.os.Bundle;
 import android.text.InputType;
 import android.text.method.ScrollingMovementMethod;
-import android.util.Log;
 import android.view.Menu;
 import android.view.MenuItem;
 import android.view.View;
@@ -29,7 +28,6 @@
 import android.widget.TextView;
 import android.widget.Toast;
 
-
 import com.acs.smartcard.Features;
 import com.acs.smartcard.Reader;
 import com.acs.smartcard.Reader.OnStateChangeListener;
@@ -41,13 +39,13 @@
 /**
  * Read and write Mifare ultralight and Mifare Classik 1k program for ACR122U reader
  *
- * @author Rousselet Léo, Pigot Kris, Chen Coline ESME
+ * @author Rousselet Léo, Pigot Kris, Chen Coline, ESME
  * @version 0.1 13/01/2023
  */
 
 public class MainActivity extends Activity {
 
-    private static final String ACTION_USB_PERMISSION = "com.android.example.USB_PERMISSION";
+    static final String ACTION_USB_PERMISSION = "com.android.example.USB_PERMISSION";
 
     private static final String[] powerActionStrings = { "Power Down", "Cold Reset", "Warm Reset" };
 
@@ -55,7 +53,7 @@
             "Swallowed", "Powered", "Negotiable", "Specific" };
 
     private UsbManager mManager;
-    private Reader mReader;
+    private static Reader mReader;
     private PendingIntent mPermissionIntent;
     private static final int MAX_LINES = 25;
     private TextView mResponseTextView;
@@ -69,7 +67,7 @@
     private Button mTransmitButton;
     private Button mReadTagButton;
     private Button mWriteTagButton;
-    private final Features mFeatures = new Features();
+    private static final Features mFeatures = new Features();
     private String typeOfCard = "";
     private String m_Text;
 
@@ -127,7 +125,7 @@
                     }
                 }
             }
-            //Shut down le lecteur si déconecté du port USB
+            //Shut down le lecteur si déconnecté du port USB
             else if (UsbManager.ACTION_USB_DEVICE_DETACHED.equals(action)) {
 
                 synchronized (this) {
@@ -150,7 +148,7 @@
     };
 
     //Ouvrir l'accès au lecteur
-    private class OpenTask extends AsyncTask<UsbDevice, Void, Exception> {
+    class OpenTask extends AsyncTask<UsbDevice, Void, Exception> {
 
         @Override
         //Ouvre le lecteur
@@ -187,7 +185,7 @@
 
 
     //Fermer l'accès au lecteur
-    private class CloseTask extends AsyncTask<Void, Void, Void> {
+    class CloseTask extends AsyncTask<Void, Void, Void> {
 
         @Override
         protected Void doInBackground(Void... params) {
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.acs.readertest\"\r\n    android:versionCode=\"1\"\r\n    android:versionName=\"1.0\">\r\n\r\n    <uses-feature android:name=\"android.hardware.usb.host\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:theme=\"@style/AppTheme\">\r\n        <activity\r\n            android:name=\".ActivityProfile\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ActivityHelp\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ActivityCarte\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ActivityLecteur\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ActivitySettings\"\r\n            android:exported=\"false\"\r\n            android:parentActivityName=\".ActivitySimpleMode\" />\r\n\r\n        <meta-data\r\n            android:name=\"android.support.PARENT_ACTIVITY\"\r\n            android:value=\"com.acs.readertest.ActivitySettings\" />\r\n\r\n        <activity\r\n            android:name=\".ActivityPageAccueil\"\r\n            android:exported=\"true\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity\r\n            android:name=\".MainActivity\"\r\n            android:exported=\"true\"\r\n            android:parentActivityName=\".ActivityPageAccueil\">\r\n            <meta-data\r\n                android:name=\"android.support.PARENT_ACTIVITY\"\r\n                android:value=\"com.acs.readertest.MainActivity\" />\r\n        </activity>\r\n        <activity\r\n            android:name=\".ActivitySimpleMode\"\r\n            android:exported=\"true\"\r\n            android:parentActivityName=\".ActivityPageAccueil\">\r\n            <meta-data\r\n                android:name=\"android.support.PARENT_ACTIVITY\"\r\n                android:value=\"com.acs.readertest.ActivitySimpleMode\" />\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
--- a/app/src/main/AndroidManifest.xml	(revision 72bc01648d87ce85431ba9c64882bf153983b96e)
+++ b/app/src/main/AndroidManifest.xml	(date 1683618012579)
@@ -14,18 +14,32 @@
         <activity
             android:name=".ActivityProfile"
             android:exported="false" />
+
         <activity
             android:name=".ActivityHelp"
             android:exported="false" />
+
         <activity
             android:name=".ActivityCarte"
-            android:exported="false" />
+            android:exported="true"
+            android:parentActivityName=".ActivityLecteur">
+            <meta-data
+                android:name="android.support.PARENT_ACTIVITY"
+                android:value="com.acs.readertest.ActivityCarte" />
+        </activity>
+
         <activity
             android:name=".ActivityLecteur"
-            android:exported="false" />
+            android:exported="true"
+            android:parentActivityName=".ActivityPageAccueil">
+            <meta-data
+                android:name="android.support.PARENT_ACTIVITY"
+                android:value="com.acs.readertest.ActivityLecteur" />
+        </activity>
+
         <activity
             android:name=".ActivitySettings"
-            android:exported="false"
+            android:exported="true"
             android:parentActivityName=".ActivitySimpleMode" />
 
         <meta-data
@@ -37,10 +51,10 @@
             android:exported="true">
             <intent-filter>
                 <action android:name="android.intent.action.MAIN" />
-
                 <category android:name="android.intent.category.LAUNCHER" />
             </intent-filter>
         </activity>
+
         <activity
             android:name=".MainActivity"
             android:exported="true"
@@ -49,6 +63,7 @@
                 android:name="android.support.PARENT_ACTIVITY"
                 android:value="com.acs.readertest.MainActivity" />
         </activity>
+
         <activity
             android:name=".ActivitySimpleMode"
             android:exported="true"
Index: app/src/main/java/com/acs/readertest/data/Result.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/acs/readertest/data/Result.java b/app/src/main/java/com/acs/readertest/data/Result.java
new file mode 100644
--- /dev/null	(date 1683615810417)
+++ b/app/src/main/java/com/acs/readertest/data/Result.java	(date 1683615810417)
@@ -0,0 +1,48 @@
+package com.acs.readertest.data;
+
+/**
+ * A generic class that holds a result success w/ data or an error exception.
+ */
+public class Result<T> {
+    // hide the private constructor to limit subclass types (Success, Error)
+    private Result() {
+    }
+
+    @Override
+    public String toString() {
+        if (this instanceof Result.Success) {
+            Result.Success success = (Result.Success) this;
+            return "Success[data=" + success.getData().toString() + "]";
+        } else if (this instanceof Result.Error) {
+            Result.Error error = (Result.Error) this;
+            return "Error[exception=" + error.getError().toString() + "]";
+        }
+        return "";
+    }
+
+    // Success sub-class
+    public final static class Success<T> extends Result {
+        private T data;
+
+        public Success(T data) {
+            this.data = data;
+        }
+
+        public T getData() {
+            return this.data;
+        }
+    }
+
+    // Error sub-class
+    public final static class Error extends Result {
+        private Exception error;
+
+        public Error(Exception error) {
+            this.error = error;
+        }
+
+        public Exception getError() {
+            return this.error;
+        }
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/acs/readertest/data/model/LoggedInUser.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/acs/readertest/data/model/LoggedInUser.java b/app/src/main/java/com/acs/readertest/data/model/LoggedInUser.java
new file mode 100644
--- /dev/null	(date 1683615810418)
+++ b/app/src/main/java/com/acs/readertest/data/model/LoggedInUser.java	(date 1683615810418)
@@ -0,0 +1,23 @@
+package com.acs.readertest.data.model;
+
+/**
+ * Data class that captures user information for logged in users retrieved from LoginRepository
+ */
+public class LoggedInUser {
+
+    private String userId;
+    private String displayName;
+
+    public LoggedInUser(String userId, String displayName) {
+        this.userId = userId;
+        this.displayName = displayName;
+    }
+
+    public String getUserId() {
+        return userId;
+    }
+
+    public String getDisplayName() {
+        return displayName;
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/acs/readertest/data/LoginDataSource.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/acs/readertest/data/LoginDataSource.java b/app/src/main/java/com/acs/readertest/data/LoginDataSource.java
new file mode 100644
--- /dev/null	(date 1683615810415)
+++ b/app/src/main/java/com/acs/readertest/data/LoginDataSource.java	(date 1683615810415)
@@ -0,0 +1,29 @@
+package com.acs.readertest.data;
+
+import com.acs.readertest.data.model.LoggedInUser;
+
+import java.io.IOException;
+
+/**
+ * Class that handles authentication w/ login credentials and retrieves user information.
+ */
+public class LoginDataSource {
+
+    public Result<LoggedInUser> login(String username, String password) {
+
+        try {
+            // TODO: handle loggedInUser authentication
+            LoggedInUser fakeUser =
+                    new LoggedInUser(
+                            java.util.UUID.randomUUID().toString(),
+                            "Jane Doe");
+            return new Result.Success<>(fakeUser);
+        } catch (Exception e) {
+            return new Result.Error(new IOException("Error logging in", e));
+        }
+    }
+
+    public void logout() {
+        // TODO: revoke authentication
+    }
+}
\ No newline at end of file
Index: app/src/main/res/layout/activity_page_accueil.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\"\r\n        android:background=\"@color/noir\">\r\n\r\n        <ImageView\r\n            android:id=\"@+id/imageView\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"410dp\"\r\n            android:layout_marginLeft=\"0dp\"\r\n            android:layout_marginTop=\"0dp\"\r\n            android:layout_marginRight=\"0dp\"\r\n            android:onClick=\"launchActivitySimpleMode\"\r\n            android:src=\"@mipmap/ic_launcher_round\" />\r\n\r\n        <Button\r\n            android:id=\"@+id/modedevButton\"\r\n            android:layout_width=\"200dp\"\r\n            android:layout_height=\"200dp\"\r\n            android:layout_marginLeft=\"105dp\"\r\n            android:layout_marginBottom=\"0dp\"\r\n            android:background=\"#FFFFFF\"\r\n            android:background=\"@drawable/coin_bouton\"\r\n            android:onClick=\"launchMainActivity\"\r\n            android:text=\"Mode avancé\"\r\n            android:textAppearance=\"@android:style/TextAppearance.Material.Display1\" />\r\n\r\n    </LinearLayout>\r\n\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_page_accueil.xml b/app/src/main/res/layout/activity_page_accueil.xml
--- a/app/src/main/res/layout/activity_page_accueil.xml	(revision 72bc01648d87ce85431ba9c64882bf153983b96e)
+++ b/app/src/main/res/layout/activity_page_accueil.xml	(date 1683615814799)
@@ -6,30 +6,25 @@
     <LinearLayout
         android:layout_width="match_parent"
         android:layout_height="match_parent"
-        android:orientation="vertical"
-        android:background="@color/noir">
+        android:orientation="vertical">
 
         <ImageView
             android:id="@+id/imageView"
-            android:layout_width="match_parent"
-            android:layout_height="410dp"
+            android:layout_width="414dp"
+            android:layout_height="317dp"
             android:layout_marginLeft="0dp"
-            android:layout_marginTop="0dp"
+            android:layout_marginTop="40dp"
             android:layout_marginRight="0dp"
             android:onClick="launchActivitySimpleMode"
             android:src="@mipmap/ic_launcher_round" />
 
         <Button
             android:id="@+id/modedevButton"
-            android:layout_width="200dp"
-            android:layout_height="200dp"
-            android:layout_marginLeft="105dp"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
             android:layout_marginBottom="0dp"
-            android:background="#FFFFFF"
-            android:background="@drawable/coin_bouton"
             android:onClick="launchMainActivity"
-            android:text="Mode avancé"
-            android:textAppearance="@android:style/TextAppearance.Material.Display1" />
+            android:text="Mode avancé" />
 
     </LinearLayout>
 
Index: app/src/main/java/com/acs/readertest/data/LoginRepository.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/acs/readertest/data/LoginRepository.java b/app/src/main/java/com/acs/readertest/data/LoginRepository.java
new file mode 100644
--- /dev/null	(date 1683615810416)
+++ b/app/src/main/java/com/acs/readertest/data/LoginRepository.java	(date 1683615810416)
@@ -0,0 +1,54 @@
+package com.acs.readertest.data;
+
+import com.acs.readertest.data.model.LoggedInUser;
+
+/**
+ * Class that requests authentication and user information from the remote data source and
+ * maintains an in-memory cache of login status and user credentials information.
+ */
+public class LoginRepository {
+
+    private static volatile LoginRepository instance;
+
+    private LoginDataSource dataSource;
+
+    // If user credentials will be cached in local storage, it is recommended it be encrypted
+    // @see https://developer.android.com/training/articles/keystore
+    private LoggedInUser user = null;
+
+    // private constructor : singleton access
+    private LoginRepository(LoginDataSource dataSource) {
+        this.dataSource = dataSource;
+    }
+
+    public static LoginRepository getInstance(LoginDataSource dataSource) {
+        if (instance == null) {
+            instance = new LoginRepository(dataSource);
+        }
+        return instance;
+    }
+
+    public boolean isLoggedIn() {
+        return user != null;
+    }
+
+    public void logout() {
+        user = null;
+        dataSource.logout();
+    }
+
+    private void setLoggedInUser(LoggedInUser user) {
+        this.user = user;
+        // If user credentials will be cached in local storage, it is recommended it be encrypted
+        // @see https://developer.android.com/training/articles/keystore
+    }
+
+    public Result<LoggedInUser> login(String username, String password) {
+        // handle login
+        Result<LoggedInUser> result = dataSource.login(username, password);
+        if (result instanceof Result.Success) {
+            setLoggedInUser(((Result.Success<LoggedInUser>) result).getData());
+        }
+        return result;
+    }
+}
\ No newline at end of file
Index: app/src/main/res/values/themes.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/themes.xml b/app/src/main/res/values/themes.xml
new file mode 100644
--- /dev/null	(date 1683615810435)
+++ b/app/src/main/res/values/themes.xml	(date 1683615810435)
@@ -0,0 +1,7 @@
+<resources>
+
+    <style name="ThemeOverlay.Innovation_grp304_Chanel.FullscreenContainer" parent="">
+        <item name="fullscreenBackgroundColor">@color/light_blue_600</item>
+        <item name="fullscreenTextColor">@color/light_blue_A200</item>
+    </style>
+</resources>
\ No newline at end of file
Index: app/src/main/res/values/attrs.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/attrs.xml b/app/src/main/res/values/attrs.xml
new file mode 100644
--- /dev/null	(date 1683615810432)
+++ b/app/src/main/res/values/attrs.xml	(date 1683615810432)
@@ -0,0 +1,6 @@
+<resources>
+    <declare-styleable name="FullscreenAttrs">
+        <attr name="fullscreenBackgroundColor" format="color" />
+        <attr name="fullscreenTextColor" format="color" />
+    </declare-styleable>
+</resources>
\ No newline at end of file
Index: app/src/main/java/com/acs/readertest/PageAccueil.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/acs/readertest/PageAccueil.java b/app/src/main/java/com/acs/readertest/PageAccueil.java
new file mode 100644
--- /dev/null	(date 1683615810414)
+++ b/app/src/main/java/com/acs/readertest/PageAccueil.java	(date 1683615810414)
@@ -0,0 +1,62 @@
+package com.acs.readertest;
+
+import android.app.Fragment;
+import android.os.Bundle;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+
+/**
+ * A simple {@link Fragment} subclass.
+ * Use the {@link PageAccueil#newInstance} factory method to
+ * create an instance of this fragment.
+ */
+public class PageAccueil extends Fragment {
+
+    // TODO: Rename parameter arguments, choose names that match
+    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
+    private static final String ARG_PARAM1 = "param1";
+    private static final String ARG_PARAM2 = "param2";
+
+    // TODO: Rename and change types of parameters
+    private String mParam1;
+    private String mParam2;
+
+    public PageAccueil() {
+        // Required empty public constructor
+    }
+
+    /**
+     * Use this factory method to create a new instance of
+     * this fragment using the provided parameters.
+     *
+     * @param param1 Parameter 1.
+     * @param param2 Parameter 2.
+     * @return A new instance of fragment PageAccueil.
+     */
+    // TODO: Rename and change types and number of parameters
+    public static PageAccueil newInstance(String param1, String param2) {
+        PageAccueil fragment = new PageAccueil();
+        Bundle args = new Bundle();
+        args.putString(ARG_PARAM1, param1);
+        args.putString(ARG_PARAM2, param2);
+        fragment.setArguments(args);
+        return fragment;
+    }
+
+    @Override
+    public void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        if (getArguments() != null) {
+            mParam1 = getArguments().getString(ARG_PARAM1);
+            mParam2 = getArguments().getString(ARG_PARAM2);
+        }
+    }
+
+    @Override
+    public View onCreateView(LayoutInflater inflater, ViewGroup container,
+                             Bundle savedInstanceState) {
+        // Inflate the layout for this fragment
+        return inflater.inflate(R.layout.fragment_page_accueil, container, false);
+    }
+}
\ No newline at end of file
